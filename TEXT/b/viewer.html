<!doctype html>
<html lang="ja">
<head><meta charset="utf-8"><title>B - Viewer</title><meta name="viewport" content="width=device-width,initial-scale=1">
<link rel="stylesheet" href="style.css">
<script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
</head>
<body>
  <div class="container">
    <header class="site"><h1>B セクション</h1><nav><a href="../index.html">トップ</a> | <a href="b.index.html">目次</a></nav></header>
    <main id="md-content">読み込み中...</main>
  </div>
  <script>
    const params = new URL(location.href).searchParams;
    const file = params.get('file') || '1.md';
    fetch(file).then(r=>r.ok? r.text(): Promise.reject('Not found')).then(md=>{
      document.getElementById('md-content').innerHTML = marked.parse(md);
      Array.from(document.querySelectorAll('a[href$=".md"]')).forEach(a=>{
        a.setAttribute('href', 'viewer.html?file=' + encodeURIComponent(a.getAttribute('href')));
      });
    }).catch(e=>document.getElementById('md-content').textContent = e);
  </script>
</body>
</html>